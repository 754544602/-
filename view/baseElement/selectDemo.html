<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" style="overflow: scroll;overflow-x: auto;">

	<head>
		<meta http-equiv="x-ua-compatible" content="ie=Edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<!--引用CSS文件START-->
		<!--滚动条样式-->
		<link rel="stylesheet" type="text/css" href="../../resources/js/scroll/jquery.mCustomScrollbar.min.css" />
		<link type="text/css" rel="stylesheet" href="../../resources/wordShow/Styles/SyntaxHighlighter.css">
		<!--[if lt IE 9 ]><link rel="stylesheet" type="text/css" href="./resources/css/common/yt-common-ie.min.css"/><![endif]-->
		<!--引用CSS文件END-->
		<title>前端框架规整</title>
	</head>

	<body>
<style type="text/css">
	select.test-select+.nice-select {
		z-index: 10;
	}
	
	.inp-model:after {
		border-bottom: 2px solid #999;
		border-right: 2px solid #999;
		content: '';
		display: block;
		height: 5px;
		margin-top: -4px;
		pointer-events: none;
		position: absolute;
		right: 12px;
		top: 50%;
		-webkit-transform-origin: 66% 66%;
		-ms-transform-origin: 66% 66%;
		transform-origin: 66% 66%;
		-webkit-transform: rotate(45deg);
		-ms-transform: rotate(45deg);
		transform: rotate(45deg);
		-webkit-transition: all 0.15s ease-in-out;
		transition: all 0.15s ease-in-out;
		width: 5px;
	}
	
	.inp-model.open:after {
		-webkit-transform: rotate(-135deg);
		-ms-transform: rotate(-135deg);
		transform: rotate(-135deg);
	}
	
	.inp-model input {
		cursor: pointer;
	}
	
	.font-op{
		color: #A1A1A1;
	}
</style>
<div class="web-criterion-model">
	<div class="method-text">select标签：</div>
	<p>1.使用条件:</p>
	<div class="label-code-div-first" style="height: auto">
		<table class="yt-table">
			<thead class="yt-thead the-inner">
				<tr>
					<th width="500px">文件名</th>
					<th width="500px">文件路径</th>
					<th width="400px">文件描述</th>
				</tr>
			</thead>
			<tbody class="yt-tbody">
				<tr>
					<td><div><a>yt-common.min.css</a></div></td>
					<td>resources/css/common/yt-common.min.css</td>
					<td><div>引用公用的样式文件</div></td>
				</tr>
			</tbody>
		</table>
	</div>
	<p>2.类样式说明:</p>
	<div class="label-code-div-first" style="height: auto">
		<table class="yt-table">
			<thead class="yt-thead the-inner">
				<tr>
					<th width="200px">类名</th>
					<th width="580px">描述</th>
				</tr>
			</thead>
			<tbody class="yt-tbody">
				<tr>
					<td>
						<div>.yt-select</div>
					</td>
					<td>
						<div>默认下拉列表公用样式</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<p style="color: #4F81BD;">3.标签原理简介:</p>
	<div class="label-desc-model">
		<p style="color: red;">(1).此下拉列表有引用插件成分,不仅仅是使用默认的标签形式。</p>
		<p>(2).原理说明:</p>
		<p style="font-weight: normal;line-height: 24px;font-size: 16px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此下拉插件分为支持可搜索和不支持两种情况(下面会有具体实例),首先在页面拼写默认的select标签, 然后在jquery初始化方法时根据情况调用插件方法(可搜索/不可搜索),初始化下拉列表,插件方法会在你页面里默认的select标签下生成div,并且会自动引用默认 select标签的类样式,div中有ul li数据来自于默认select标签中的数据.
		</p>
		<p style="font-weight: normal;line-height: 24px;font-size: 16px;">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;调用初始化插件方法后,页面默认select标签会被隐藏,此时页面操作的就是插件生成的div数据,操作生成的下拉列表,联响默认的select标签中的相对应数据会被 选中/取消选中。
		</p>
	</div>
	<p>4.调用方法:</p>
	<div class="label-code-div-first" style="height: auto">
		<table class="yt-table">
			<thead class="yt-thead the-inner">
				<tr>
					<th width="200px">方法名</th>
					<th width="200px">方法描述</th>
					<th width="300px">参数类型</th>
					<th width="450px">参数说明</th>
				</tr>
			</thead>
			<tbody class="yt-tbody">
				<tr>
					<td>
						<div>niceSelect()</div>
					</td>
					<td>下拉插件刷新方法</td>
					<td>
						<div>obj</div>
					</td>
					<td>
						<div>$(".yt-select").niceSelect({
							<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search:true,//是否支持可搜true支持false不支持
							<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backFunction:function (text){//回调方法<br/> &nbsp;&nbsp;&nbsp;}

							<br/>});</div>
					</td>
				</tr>
				<tr>
					<td>setSelectVal()</td>
					<td>动态设置下拉列表选中对应值</td>
					<td>string</td>
					<td>要选中的数据值</td>
				</tr>
			</tbody>
		</table>
	</div>
	<p>5.代码展现:</p>
	<div class="label-code-div">
		<textarea cols="50" rows="15" name="code" class="javaScript">
			<!--
				div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
			    padding内间距对应值依次是上右下左
			-->
			<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
				<table class="yt-form-table" style="width: 100%;">
					<tr>
						<td>
							<!--必填标识-->
							<label class="not-null">*</label>
							<label><span class="yt-lep5">项目类</span>型：</label>
							<!--
								如果想调整当前下拉列表的宽度,必须自定义class类名,如prj-type-sel,然后
								在css文件中加类样式，如：
								.prj-type-sel{
									width:200px;
								}
							-->
							<select class="yt-select prj-type-sel">
								<option value="">请选择</option>
								<option value="1">类型1</option>
								<option value="2">类型2</option>
								<option value="3">类型3</option>
								<option value="4">类型4</option>
								<option value="5">类型5</option>
								<option value="6">类型6</option>
								<option value="7">类型7</option>
								<option value="8">类型8</option>
							</select>
						</td>
					</tr>
				</table>
			</div>
			
			<script type="text/javascript">
				//必带初始化内容
				$(function() {
				    //初始化下拉列表,在调用方法初始化时要注意,排除可搜素的下拉列表
					$("select").niceSelect();
				});
				
		/******************************以下示例代码为开发人员实际开发提供参考***********************************/		
		//设置下拉列表某个值选中方法(一般用于编辑修改表单操作获取数据赋值)
		function  setSelVal(){
			var selVal = "5";
			//1.调用下拉列表设置选中值方法,传入要选中option的value值
			$("select.prj-type-sel").setSelectVal(selVal);
		}
		//点击重置按钮操作方法
		function resetData(){
			//1.设置页面默认的select标签选中"请选择"
			$("select.prj-type-sel option:eq(0)").prop("selected","selected");
			//2.调用下拉列表插件刷新方法
			$("select.prj-type-sel").niceSelect();
		}
			</script>
				</textarea>
	</div>
	<p>6.展示效果:</p>
	<!--内容超出最大高度效果START-->
	<!--
		div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
	    padding内间距对应值依次是上右下左
	-->
	<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
		<table class="yt-form-table" style="width: 100%;">
			<tr>
				<td>
					<!--必填标识-->
					<label class="not-null">*</label>
					<label><span class="yt-lep5">项目类</span>型：</label>
					<select class="yt-select prj-type-sel">
						<option value="">请选择</option>
						<option value="1">类型1</option>
						<option value="2">类型2</option>
						<option value="3">类型3</option>
						<option value="4">类型4</option>
						<option value="5">类型5</option>
						<option value="6">类型6</option>
						<option value="7">类型7</option>
						<option value="8">类型8</option>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="bot-fun-btn" style="padding:20px 0px;">
		<button class="yt-option-btn" onclick="setSelVal()">设置选中某个值</button>
		<button class="yt-assist-btn" onclick="resetData()">重置</button>
	</div>
	<div class="method-text">支持可模糊搜索的select标签：</div>
	<p>1.代码展现:</p>
	<div class="label-code-div">
		<textarea cols="50" rows="15" name="code" class="javaScript">
		<!--
			div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
		    padding内间距对应值依次是上右下左
		-->
		<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
	     <table class="yt-form-table" style="width: 100%;">
			<tr>
				<td>
					<label>用户名：</label>
					<select class="yt-select user-name-sel">
						<option value="">请选择</option>
					</select>
				</td>
			</tr>
		</table>
	<script type="text/javascript">
	//必带初始化内容
	$(function() {
		//1.定义一个全局的存储用户信息的变量
   		 var globalUserList = "";
		//2.手动创建假数据
		var userList = [{
			"userCode": "001",
			"userName": "清风"
		}, {
			"userCode": "002",
			"userName": "徐来"
		}, {
			"userCode": "003",
			"userName": "张三"
		}, {
			"userCode": "004",
			"userName": "李四"
		}, {
			"userCode": "005",
			"userName": "小明同学"
		}];
		//3.将获取到的数据赋值给全局的存储变量
		globalUserList = userList;
		//4.遍历数据聚合,给select赋值
		$.each(userList, function(i, n) {
			$('select.user-name-sel').append('<option value="' + n.userCode + '">' + n.userName + '</option>');
		});
		//5.初始化调用插件刷新方法
		$("select.user-name-sel").niceSelect({
			search: true,
			backFunction: function(text) {
				//回调方法,可以执行模糊查询,也可自行添加操作
				$("select.user-name-sel option").remove();
				if(text == "") {
					$("select.user-name-sel").append('<option value="">请选择</option>');
				}
				var selNum = 0;
				//遍历存储的全局用户名遍历,匹配数据,进行模糊查询操作
				$.each(globalUserList, function(i, n) {
					if(n.userName.indexOf(text) != -1) {
						selNum +=1;
						$("select.user-name-sel").append('<option value="' + n.userCode + '">' + n.userName + '</option>');
					}
				});
				//如果没有查询到拼接暂无数据提示
				if(selNum == 0){
					$("select.user-name-sel").html('<option value="" disabled="disabled">暂无匹配数据</option>');
				}
			}
		});
	});
	
	/******************************以下示例代码为开发人员实际开发提供参考***********************************/
	/**
	 * 
	 * 
	 *设置可输入下拉列表选中某个值
	 * 
	 * 
	 */
	function setEntrySelVal(){
		//测试数据
		var testVal = "002";
		//调用设置下拉列表选中值的方法
		$("select.user-name-sel").setSelectVal(testVal);
	}
	/**
	 * 
	 * 
	 * 重置可输入下拉列表
	 * 
	 */
	function resetEntrySel(){
		$('select.user-name-sel').html('<option value="">请选择</option>');
		//2.调用插件方法重新刷新数据
		$("select.user-name-sel").niceSelect({
			search: true,
			backFunction: function(text) {
				//回调方法,可以执行模糊查询,也可自行添加操作
				$("select.user-name-sel option").remove();
				if(text == "") {
					$('select.user-name-sel').append('<option value="">请选择</option>');
				}
				var selNum = 0;
				//遍历存储的全局用户名遍历,匹配数据,进行模糊查询操作
				$.each(globalUserList, function(i, n) {
					if(n.userName.indexOf(text) != -1) {
						selSum+=1;
						$("select.user-name-sel").append('<option value="' + n.userCode + '">' + n.userName + '</option>');
					}
				});
				if(selNum == 0){
					$("select.user-name-sel").html('<option value="" disabled="disabled">暂无匹配数据</option>');
				}
			}
		});
		$(".user-name-span,.sel-text-span").text('');
	}
</script>
		</textarea>
	</div>
	<p>2.显示效果:</p>
	<!--
		div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
	    padding内间距对应值依次是上右下左
	-->
	<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
     <table class="yt-form-table" style="width: 100%;">
			<tr>
				<td>
					<label>用户名：</label>
					<select class="yt-select user-name-sel">
						<option value="">请选择</option>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="bot-fun-btn" style="padding:20px 0px;">
		<button class="yt-option-btn" onclick="setEntrySelVal()">设置可输入下拉列表选中值</button>
		<button class="yt-assist-btn" onclick="resetEntrySel()">重置可输入下拉列表</button>
	</div>
	<div class="method-text">特殊场景,显示数据有多个值,取个别值示例：</div>
	<p>1.使用方法说明:</p>
	<div>
		<div class="label-code-div-first" style="height: auto">
			<table class="yt-table">
				<thead class="yt-thead the-inner">
					<tr>
						<th width="300px">方法</th>
						<th width="100px">参数</th>
						<th width="400px">参数描述</th>
					</tr>
				</thead>
				<tbody class="yt-tbody">
					<tr>
						<td>
							<div>$("select.employee-sel").niceSelect({formateVal:function(selOption){return "";}});</div>
						</td>
						<td>
							<div>formateVal</div>
						</td>
						<td>
							一个回调方法的参数,selOption是当前select标签下选中的option.</br>
							此回调方法需要返回一个字符串,就是选中后显示的值.
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<p>2.代码展示:</p>
	<div class="label-code-div">
		<textarea cols="50" rows="15" name="code" class="javaScript">
		<!--
			div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
		    padding内间距对应值依次是上右下左
		-->
		<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
		<table class="yt-form-table" style="width: 100%;">
			<tr>
				<td>
					<label><span class="yt-lep5">员工姓</span>名：</label>
					<select class="yt-select employee-sel">
						<option value="" sel-val="请选择">请选择</option>
						<option value="001" sel-val="zhangsanfeng">张三丰&nbsp;&nbsp;&nbsp;&nbsp;13574587451</option>
						<option value="002" sel-val="eryuetian">二月天&nbsp;&nbsp;&nbsp;&nbsp;15874587451</option>
						<option value="003" sel-val="meichaofeng">梅超风&nbsp;&nbsp;&nbsp;&nbsp;18774587451</option>
					</select>
				</td>
			</tr>
		</table>
		  <script type="text/javascript">
		  	//必带初始化内容
		  	$(function(){
		  		/**
				 * 调用初始化下拉列表方法,传输一个回调函数的返回一个字符串,要取的那个值,
				 * selOption未当前选中的option,可以根据它获取自己想要的值返回
				 */
				$("select.employee-sel").niceSelect({formateVal:function(selOption){
					/**
					 * 特别声明,这里只做示例处理,后期使用过程中,根据自己需求进行处理,返回的字符串是最终显示在下拉列表上的数据
					 */
					//示例只想显示自己选中数据的,名称,不要手机号,加了自定义属性,这里可自由处理
					var  selVal = selOption.attr("sel-val");
					return selVal;
				}});
		  	});
		</script>
		</textarea>
	</div>
	<p>3.显示效果:</p>
	<!--
		div区域划分设置padding内间距,距离上内间距10px,右内间距0px,下内间距0px,左内间距10px
	    padding内间距对应值依次是上右下左
	-->
	<div class="base-form-model" style="padding: 10px 0px 0px 10px;">
	<table class="yt-form-table" style="width: 100%;">
			<tr>
				<td>
					<label><span class="yt-lep5">员工姓</span>名：</label>
					<select class="yt-select employee-sel">
						<option value="" sel-val="请选择">请选择</option>
						<option value="001" sel-val="zhangsanfeng">张三丰&nbsp;&nbsp;&nbsp;&nbsp;13574587451</option>
						<option value="002" sel-val="eryuetian">二月天&nbsp;&nbsp;&nbsp;&nbsp;15874587451</option>
						<option value="003" sel-val="meichaofeng">梅超风&nbsp;&nbsp;&nbsp;&nbsp;18774587451</option>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="method-text">公用可填充各种数据版下拉框：</div>
	<p>1.代码展示:</p>
	<div class="label-code-div">
		<textarea cols="50" rows="15" name="code" class="javaScript">
			<div class="inp-model" style="position: absolute;">
				<label>请选择：</label>
				<input class="yt-input div-inp" placeholder="请选择" readonly="readonly" />
			</div>
			<div class="hid-div" style="height: 200px;width: 203px;border: 1px solid #e5e5e5;margin-top: 31px; margin-left: 60px;display: none;">
	
			</div>
			<script type="text/javascript">
				/**
				 * 
				 * 阻止冒泡
				 * 
				 */
				function eventStopPageaction() {
					var e = arguments.callee.caller.arguments[0] || event;
					if(e && e.stopPropagation) {
						// this code is for Mozilla and Opera
						e.stopPropagation();
					} else if(window.event) {
						// this code is for IE 
						window.event.cancelBubble = true;
					}
				}
			$('.div-inp').on('click', function() {
				//div点击显示再点击隐藏
				$(".hid-div").toggle();
				//父级div点击增加open类三角图标旋转，再点击转回
				$(".inp-model").toggleClass('open');
				//阻止冒泡
				eventStopPageaction();
			});
			//点击页面其他地方隐藏div
			$("body").click(function() {
				// 点击body时 隐藏 div
				$(".hid-div").hide();
				//点击body时点击去除open类三角图标旋转
				$(".inp-model").removeClass('open');
			});
			</script>
		</textarea>
	</div>
	<p>2.显示效果:</p>
	<div class="sel-div-model" style="padding: 10px 0px 20px 95px; height: 240px;">
		<div class="inp-model" style="position: absolute;">
			<label>请选择：</label>
			<input class="yt-input div-inp" placeholder="请选择" readonly="readonly" />
		</div>
		<div class="hid-div" style="height: 200px;width: 203px;border: 1px solid #e5e5e5;margin-top: 31px; margin-left: 60px;display: none;">

		</div>
	</div>
</div>
	</body>

</html>
<!--引用JS文件START-->
<script type="text/javascript" src="../../resources/js/common/jquery.min.js"></script>
<!--滚动条js-->
<script type="text/javascript" src="../../resources/js/scroll/jquery.mCustomScrollbar.concat.min.js"></script>
<script type="text/javascript" src="../../resources/js/common/yt-option.js"></script>
<!--引用换肤js-->
<script type="text/javascript" id="themeJs"></script>
<script type="text/javascript" src="../../resources/js/common/yt-common.js"></script>
<script type="text/javascript" src="../../resources/js/common/yt-frame.min.js"></script>
<script type="text/javascript" src="../../resources/wordShow/Scripts/shCore.js"></script>
<!--引用JS文件END-->
<script type="text/javascript">
	$('.div-inp').on('click', function() {
		//div点击显示再点击隐藏
		$(".hid-div").toggle();
		//父级div点击增加open类三角图标旋转，再点击转回
		$(".inp-model").toggleClass('open');
		//组织冒泡
		$yt_baseElement.eventStopPageaction();
	});
	$("body").click(function() {
		// 点击body时 隐藏 div
		$(".hid-div").hide();
		//点击body时点击去除open类三角图标旋转
		$(".inp-model").removeClass('open');
	});
	$(function() {
		//动态引用主系统的换肤js
		document.getElementById("themeJs").src = $yt_themeJs_path; 
		
		//初始化下拉列表,在调用方法初始化时要注意,出去可输入的下拉列表
		$("select:not(.user-name-sel)").niceSelect();
		/**
		 * 调用下拉列表选中切换获取选中值方法
		 */
		selectChangeGetVal();
	});
	/**
	 * 下拉列表值有改动就获取(一般用于两个下拉列表联动情形)
	 * 使用jquery的change方法
	 */
	function selectChangeGetVal() {
		$(".type-select").change(function() {
			$(".get-type-sel-val").text($(this).val());
		});
	}
	/**
	 * 
	 * 设置下拉列表某个值选中(一般用于编辑修改表单操作获取数据赋值)
	 * 
	 */
	function setSelVal() {
		var selVal = "5";
		//1.调用下拉列表设置选中值方法,传入要选中option的value值
		$("select.prj-type-sel").setSelectVal(selVal);
	}
	/**
	 * 
	 * 重置下拉列表数据
	 * 
	 */
	function resetData() {
		//1.设置页面默认的select标签选中"请选择"
		$("select.prj-type-sel option:eq(0),select.type-select option:eq(0)").prop("selected", "selected");
		//2.调用下拉列表插件刷新方法
		$("select.prj-type-sel,select.type-select").niceSelect();
		//3.清空获取选中内容
		$(".get-test-sel-val,.get-type-sel-val").text("");
	}
</script>
<script type="text/javascript">
	//1.定义一个全局的存储用户信息的变量
	var globalUserList = "";
	/**
	 * 
	 * 可输入的下拉列表
	 * 
	 */
	$(function() {
	  //每页显示条数
	  var loadPageNum = 20;
	  //数据长度
	  var dataLen = 0;
	  // 加载长度
	  var loadLen = 0;
	  //当前页码
	  var pageNum = 1;
	  $.ajax({
				type: 'get',
				url: $yt_option.websit_path+'resources/js/personnel/usersList.json',
				async: true,
				data:{
					params: '',
					pageIndex: 1,
					pageNum: 99999 //每页显示条数
				},
				success: function(data) {
					//判断请求是否成功
					if(data.flag == 0){
						var  datas = data.data.rows;
						//判断数据长度
						if(data.data.rows.length > 0){
							var opt = "";
							$.each(data.data.rows, function(i,n) {
								if(i< loadPageNum){
									opt = '<option value="'+n.userItcode+'">'+n.userName+'</option>';
									$("select.test-select").append(opt);
								}else{
									opt = '<option value="more">加载更多...</option>';
									$("select.test-select").append(opt);
									return false;
								}
							});
							//初始化下拉列表
							$("select.test-select").niceSelect();
							//下拉列表选择事件
							var dataPageTotal = 0;
							$("select.test-select").on("change",function(){
								if(dataPageTotal == 0){
									dataPageTotal = (loadPageNum+1);
								}else{
									dataPageTotal +=20;
								}
								dataPageTotal = parseInt(dataPageTotal);
								//计算共有多少页
								var pageTotal = parseInt(datas.length/loadPageNum);
								//当前页加1
								pageNum +=1;
								//判断点击的是加载更多
								if($(this).val() == "more"){
									for(var i = dataPageTotal;i < (dataPageTotal+20);i++) {
										if(data.data.rows[i] !=undefined){
											opt = '<option value="'+data.data.rows[i].userItcode+'">'+data.data.rows[i].userName+'</option>';
									    	$("select.test-select option[value='more']").before(opt);
										}else{
											//处理加载更多文字变更为已全部加载变更值
											$("select.test-select option[value='more']").text('已全部加载');
											$("select.test-select option[value='more']").val("end");
											$(".nice-select.test-select").text("");
										}
										
									}
									//初始化下拉列表
									$("select.test-select").niceSelect();
								}
							});
							
						}
					}
				},error:function(e){}
			});
		
		//测试的json数据
		var userList = [{
			"userCode": "001",
			"userName": "清风"
		}, {
			"userCode": "002",
			"userName": "徐来"
		}, {
			"userCode": "003",
			"userName": "张三"
		}, {
			"userCode": "004",
			"userName": "李四"
		}, {
			"userCode": "005",
			"userName": "小明同学"
		}, {
			"userCode": "006",
			"userName": "jasper"
		}, {
			"userCode": "007",
			"userName": "李莎"
		}, {
			"userCode": "008",
			"userName": "米妮"
		}];
		//2.将获取到的数据赋值给全局的存储变量
		globalUserList = userList;
		//3.遍历数据,给select赋值
		$.each(userList, function(i, n) {
			$('select.user-name-sel').append('<option value="' + n.userCode + '">' + n.userName + '</option>');
		});
		//4.初始化调用插件刷新方法
		$("select.user-name-sel").niceSelect({
			search: true,
			backFunction: function(text) {
				//回调方法,可以执行模糊查询,也可自行添加操作
				$("select.user-name-sel option").remove();
				if(text == "") {
					$("select.user-name-sel").append('<option value="">请选择</option>');
				}
				var selNum = 0;
				//遍历存储的全局用户名遍历,匹配数据,进行模糊查询操作
				$.each(globalUserList, function(i, n) {
					if(n.userName.indexOf(text) != -1) {
						selNum +=1;
						$("select.user-name-sel").append('<option value="' + n.userCode + '">' + n.userName + '</option>');
					}
				});
				//如果没有查询到拼接暂无数据提示
				if(selNum == 0){
					$("select.user-name-sel").html('<option value="" disabled="disabled">暂无匹配数据</option>');
				}
			}
		});
	});
	/**
	 * 
	 * 
	 *设置可输入下拉列表选中某个值
	 * 
	 * 
	 */
	function setEntrySelVal() {
		//测试数据
		var testVal = "002";
		//调用设置下拉列表选中值的方法
		$("select.user-name-sel").setSelectVal(testVal);
	}
	/**
	 * 
	 * 
	 * 点击重置按钮初始化可模糊搜索下拉列表
	 * 
	 */
	function resetEntrySel() {
		$('select.user-name-sel').html('<option value="">请选择</option>');
		//2.调用插件方法重新刷新数据
		$("select.user-name-sel").niceSelect({
			search: true,
			backFunction: function(text) {
				//回调方法,可以执行模糊查询,也可自行添加操作
				$("select.user-name-sel option").remove();
				if(text == "") {
					$("select.user-name-sel").append('<option value="">请选择</option>');
				}
				var selNum=0;
				//遍历存储的全局用户名遍历,匹配数据,进行模糊查询操作
				$.each(globalUserList, function(i, n) {
					if(n.userName.indexOf(text) != -1) {
						selNum+=1;
						$("select.user-name-sel").append('<option value="' + n.userCode + '">' + n.userName + '</option>');
					}
				});
				if(selNum == 0){
					$("select.user-name-sel").html('<option value="" disabled="disabled">暂无匹配数据</option>');
				}
			}
		});
		$(".user-name-span,.sel-text-span").text('');
	}
</script>
<script type="text/javascript">
	/**
	 * 
	 * 
	 * 特殊获取选中值处理
	 * 
	 * 
	 */
	/**
	 * 调用初始化下拉列表方法,传输一个回调函数的返回一个字符串,要取的那个值,
	 * selOption未当前选中的option,可以根据它获取自己想要的值返回
	 */
	$("select.employee-sel").niceSelect({
		formateVal: function(selOption) {
			/**
			 * 特别声明,这里只做示例处理,后期使用过程中,根据自己需求进行处理,返回的字符串是最终显示在下拉列表上的数据
			 */
			//示例只想显示自己选中数据的,名称,不要手机号,加了自定义属性,这里可自由处理
			var selVal = selOption.attr("sel-val");
			return selVal;
		}
	});
</script>